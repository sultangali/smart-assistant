# Отладка проблемы с переводами

## Проблема
Изменения в админ панели не отображаются на сайте.

## Диагностика

### 1. Проверьте API
```bash
# Проверьте, что сервер запущен
curl http://localhost:5000/api/i18n/languages

# Проверьте переводы
curl http://localhost:5000/api/i18n/ru | jq '.data.landing.hero'
```

### 2. Проверьте в браузере
1. Откройте http://localhost:5173
2. Откройте консоль разработчика (F12)
3. Посмотрите на компонент "Тест переводов" в правом нижнем углу
4. Нажмите "Проверить" и "Перезагрузить"

### 3. Проверьте Network вкладку
1. Откройте Network вкладку в DevTools
2. Обновите страницу
3. Найдите запросы к `/api/i18n/ru`
4. Проверьте статус ответа (должен быть 200)

## Возможные причины

### 1. Сервер не запущен
**Решение:** Запустите сервер
```bash
cd server
npm start
```

### 2. CORS проблемы
**Решение:** Проверьте настройки CORS в server/index.js

### 3. Кэширование браузера
**Решение:** Очистите кэш браузера или откройте в режиме инкогнито

### 4. i18n не загружает переводы
**Решение:** Проверьте консоль на ошибки загрузки

## Компоненты для отладки

### TranslationTest
- Показывает статус загрузки переводов
- Тестирует API и i18n
- Позволяет перезагрузить переводы

### TranslationReloader
- Кнопка для принудительной перезагрузки
- Показывает статус загрузки

### TranslationStatus
- Показывает общий статус переводов
- Отображает ошибки

## Пошаговая отладка

1. **Запустите сервер:**
   ```bash
   cd server
   npm start
   ```

2. **Запустите клиент:**
   ```bash
   cd client
   npm run dev
   ```

3. **Откройте сайт:**
   - http://localhost:5173

4. **Проверьте компонент "Тест переводов":**
   - Должен показать статус всех тестов
   - Если есть ошибки, нажмите "Перезагрузить"

5. **Проверьте консоль браузера:**
   - Должны быть сообщения о загрузке переводов
   - Не должно быть ошибок CORS

6. **Проверьте Network:**
   - Должны быть запросы к `http://localhost:5000/api/i18n/ru`
   - Статус должен быть 200

## Ожидаемый результат

После исправления:
- ✅ API возвращает переводы с сервера
- ✅ i18n загружает переводы с сервера
- ✅ Изменения в админ панели отображаются на сайте
- ✅ Компонент "Тест переводов" показывает все зеленые статусы

## Файлы для проверки

- `client/src/i18n/config.js` - конфигурация i18n
- `client/src/hooks/useTranslations.js` - хук для переводов
- `server/controllers/i18nController.js` - API контроллер
- `server/scripts/extractContent.js` - скрипт извлечения контента
